<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orders - Admin Dashboard</title>
    <link rel="stylesheet" href="https://unpkg.com/mvp.css">
    <link rel="stylesheet" href="css/orders.css">
    <script>
        // JavaScript function to handle row click
        function goToEditPage(orderId) {
            window.location.href = `edit_order.html?orderId=${orderId}`;
        }

        // JavaScript function to filter rows by status
        function filterOrders() {
    const filter = document.getElementById("statusFilter").value;
    const rows = document.querySelectorAll(".orders-table tbody tr");

    rows.forEach(row => {
        const status = row.querySelector("td:nth-child(10)").textContent;
        if (filter === "All" || status === filter) {
            row.style.display = "";
        } else {
            row.style.display = "none";
        }
    });
}
        // Redirect to edit page with parameters
function goToEditPage(orderId, customerName, price, deposit, orderDate, pickupDate, preferredCustom, employeeId, orderStatus, image) {
    const params = new URLSearchParams({
        orderId, customerName, price, deposit, orderDate, pickupDate, preferredCustom, employeeId, orderStatus, image
    });
    window.location.href = `edit_order.html?${params.toString()}`;
}

// Display image in a modal
function showImage(event, imageUrl) {
    event.stopPropagation(); // Prevent row click
    const modal = document.createElement("div");
    modal.className = "modal";
    modal.innerHTML = `
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <img src="${imageUrl}" alt="Order Image" style="max-width: 100%; height: auto;">
        </div>
    `;
    document.body.appendChild(modal);
    modal.style.display = "block";
}

// Close modal
function closeModal() {
    const modal = document.querySelector(".modal");
    if (modal) modal.remove();
}

    </script>
</head>
<body>
    <!-- Header Section -->
    <header class="admin-header">
        <div class="header-content">
            <div class="logo">
                <img src="images/logo.png" alt="Company Logo" class="icon">
            </div>
        </div>
    </header>

    <!-- Navbar Section -->
    <nav class="admin-navbar">
        <ul>
            <li class="active"><a href="dashboard.html">Dashboard</a></li>
            <li><a href="form.html">Custom Order</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href='index.html'>Logout</a></li>
        </ul>
    </nav>

    <h1 class="center-text">Orders</h1>
    <p id = "center-paragraph"><em>Cancelled and completed orders are removed after 30 days</em></p>
    <!-- Filter Dropdown -->
    <div class="filter-section">
        <label for="statusFilter">Filter by Status</label>
        <select id="statusFilter" onchange="filterOrders()">
            <option value="All">All</option>
            <option value="Complete">Complete</option>
            <option value="In Progress">In Progress</option>
            <option value="Pending Pickup">Pending Pickup</option>
            <option value="Cancelled">Cancelled</option>
        </select>
        
    </div>
    <div class = "back-button" style="text-align: center; margin-top: 20px;">
        <button onclick="window.location.href='dashboard.html'">Back to Dashboard</button>
    </div>
    <!-- Orders Table Section -->
    <section class="orders-section">
        <table class="orders-table">
            <thead>
                <tr>
                    <th>Order ID</th>
                    <th>Customer ID</th>
                    <th>Customer Name</th>
                    <th>Price</th>
                    <th>Deposit</th>
                    <th>Order Date</th>
                    <th>Pickup Date</th>

                    <th>Preferred Custom.</th>
                    <th>Approved By (Employee ID)</th>
                    <th>Order Status</th>
                    <th>Image</th>
                </tr>
            </thead>
            <tbody>
                <tr onclick="goToEditPage(1001, 2001, 150, 75, '2024-10-20', '2024-11-01', 'Yes', 101, 'Complete', 'Yes')">
                    <td>1001</td>
                    <td>2001</td>
                    <td>John Doe</td>
                    <td>$150.00</td>
                    <td>$75.00</td>
                    <td>2024-10-20</td>
                    <td>2024-11-01</td>
                    <td>Yes</td>
                    <td>101</td>
                    <td>Complete</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1002, 'Emily Brown', 180, 90, '2024-10-22', '2024-11-07', 'No', 102, 'Complete', 'No')">
                    <td>1002</td>
                    <td>2002</td>
                    <td>Emily Brown</td>
                    <td>$180.00</td>
                    <td>$90.00</td>
                    <td>2024-10-22</td>
                    <td>2024-11-07</td>
                    <td>No</td>
                    <td>102</td>
                    <td>Complete</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1003, 'Jane Smith', 200, 100, '2024-10-25', '2024-11-05', 'No', 102, 'Complete', 'No')">
                    <td>1003</td>
                    <td>2003</td>
                    <td>Jane Smith</td>
                    <td>$200.00</td>
                    <td>$100.00</td>
                    <td>2024-10-25</td>
                    <td>2024-11-05</td>
                    <td>No</td>
                    <td>102</td>
                    <td>Complete</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1004, 'Michael Johnson', 220, 110, '2024-10-28', '2024-11-08', 'No', 101, 'Complete', 'Yes')">
                    <td>1004</td>
                    <td>2004</td>
                    <td>Michael Johnson</td>
                    <td>$220.00</td>
                    <td>$110.00</td>
                    <td>2024-10-28</td>
                    <td>2024-11-08</td>
                    <td>No</td>
                    <td>101</td>
                    <td>Complete</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1005, 'Sarah Lee', 130, 65, '2024-10-30', '2024-11-10', 'No', 102, 'Complete', 'No')">
                    <td>1005</td>
                    <td>2005</td>
                    <td>Sarah Lee</td>
                    <td>$130.00</td>
                    <td>$65.00</td>
                    <td>2024-10-30</td>
                    <td>2024-11-10</td>
                    <td>No</td>
                    <td>102</td>
                    <td>Complete</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1006, 'David Wilson', 175, 87.50, '2024-10-31', '2024-11-12', 'Yes', 103, 'Pending Pickup', 'Yes')">
                    <td>1006</td>
                    <td>2006</td>
                    <td>David Wilson</td>
                    <td>$175.00</td>
                    <td>$87.50</td>
                    <td>2024-10-31</td>
                    <td>2024-11-12</td>
                    <td>Yes</td>
                    <td>103</td>
                    <td>Pending Pickup</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1007, 'Linda Martinez', 250, 125, '2024-11-02', '2024-11-15', 'No', 104, 'Cancelled', 'No')">
                    <td>1007</td>
                    <td>2007</td>
                    <td>Linda Martinez</td>
                    <td>$250.00</td>
                    <td>$125.00</td>
                    <td>2024-11-02</td>
                    <td>2024-11-15</td>
                    <td>No</td>
                    <td>104</td>
                    <td>Cancelled</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1008, 'Christopher Evans', 140, 70, '2024-11-04', '2024-11-17', 'Yes', 101, 'Pending Pickup', 'Yes')">
                    <td>1008</td>
                    <td>2008</td>
                    <td>Christopher Evans</td>
                    <td>$140.00</td>
                    <td>$70.00</td>
                    <td>2024-11-04</td>
                    <td>2024-11-17</td>
                    <td>Yes</td>
                    <td>101</td>
                    <td>Cancelled</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1009, 'Patricia Harris', 160, 80, '2024-11-05', '2024-11-20', 'No', 102, 'Cancelled', 'No')">
                    <td>1009</td>
                    <td>2009</td>
                    <td>Patricia Harris</td>
                    <td>$160.00</td>
                    <td>$80.00</td>
                    <td>2024-11-05</td>
                    <td>2024-11-20</td>
                    <td>No</td>
                    <td>102</td>
                    <td>Cancelled</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1010, 'Kevin Walker', 230, 115, '2024-11-06', '2024-11-22', 'Yes', 103, 'In Progress', 'Yes')">
                    <td>1010</td>
                    <td>2010</td>
                    <td>Kevin Walker</td>
                    <td>$230.00</td>
                    <td>$115.00</td>
                    <td>2024-11-06</td>
                    <td>2024-11-22</td>
                    <td>Yes</td>
                    <td>103</td>
                    <td>In Progress</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1011, 'Michelle Clark', 190, 95, '2024-11-08', '2024-11-24', 'No', 104, 'In Progress', 'No')">
                    <td>1011</td>
                    <td>2011</td>
                    <td>Michelle Clark</td>
                    <td>$190.00</td>
                    <td>$95.00</td>
                    <td>2024-11-08</td>
                    <td>2024-11-24</td>
                    <td>No</td>
                    <td>104</td>
                    <td>In Progress</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1012, 'Barbara Lewis', 210, 105, '2024-11-10', '2024-11-26', 'No', 102, 'In Progress', 'No')">
                    <td>1012</td>
                    <td>2012</td>
                    <td>Barbara Lewis</td>
                    <td>$210.00</td>
                    <td>$105.00</td>
                    <td>2024-11-10</td>
                    <td>2024-11-26</td>
                    <td>No</td>
                    <td>102</td>
                    <td>In Progress</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1013, 'Steven Robinson', 145, 72.50, '2024-11-12', '2024-11-28', 'Yes', 101, 'In Progress', 'Yes')">
                    <td>1013</td>
                    <td>2013</td>
                    <td>Steven Robinson</td>
                    <td>$145.00</td>
                    <td>$72.50</td>
                    <td>2024-11-12</td>
                    <td>2024-11-28</td>
                    <td>Yes</td>
                    <td>101</td>
                    <td>In Progress</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1014, 'Emma Garcia', 175, 87.50, '2024-11-13', '2024-11-30', 'No', 103, 'In Progress', 'No')">
                    <td>1014</td>
                    <td>2014</td>
                    <td>Emma Garcia</td>
                    <td>$175.00</td>
                    <td>$87.50</td>
                    <td>2024-11-13</td>
                    <td>2024-11-30</td>
                    <td>No</td>
                    <td>103</td>
                    <td>Cancelled</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1015, 'Daniel Thompson', 195, 97.50, '2024-11-14', '2024-12-01', 'Yes', 104, 'Cancelled', 'Yes')">
                    <td>1015</td>
                    <td>2015</td>
                    <td>Daniel Thompson</td>
                    <td>$195.00</td>
                    <td>$97.50</td>
                    <td>2024-11-14</td>
                    <td>2024-12-01</td>
                    <td>Yes</td>
                    <td>104</td>
                    <td>Cancelled</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1016, 'Olivia Martinez', 225, 112.50, '2024-11-16', '2024-12-03', 'No', 102, 'In Progress', 'No')">
                    <td>1016</td>
                    <td>2016</td>
                    <td>Olivia Martinez</td>
                    <td>$225.00</td>
                    <td>$112.50</td>
                    <td>2024-11-16</td>
                    <td>2024-12-03</td>
                    <td>No</td>
                    <td>102</td>
                    <td>In Progress</td>
                    <td>No</td>
                </tr>
                <tr onclick="goToEditPage(1017, 'James Anderson', 160, 80, '2024-11-18', '2024-12-05', 'Yes', 101, 'In Progress', 'Yes')">
                    <td>1017</td>
                    <td>2017</td>
                    <td>James Anderson</td>
                    <td>$160.00</td>
                    <td>$80.00</td>
                    <td>2024-11-18</td>
                    <td>2024-12-05</td>
                    <td>Yes</td>
                    <td>101</td>
                    <td>Cancelled</td>
                    <td><a href="#" onclick="showImage(event, 'images/cake.jpg')">Yes</a></td>
                </tr>
                <tr onclick="goToEditPage(1018, 'Jessica Reed', 180, 90, '2024-11-20', '2024-12-07', 'No', 103, 'In Progress', 'No')">
                    <td>1018</td>
                    <td>2018</td>
                    <td>Jessica Reed</td>
                    <td>$180.00</td>
                    <td>$90.00</td>
                    <td>2024-11-20</td>
                    <td>2024-12-07</td>
                    <td>No</td>
                    <td>103</td>
                    <td>In Progress</td>
                    <td>No</td>
                </tr>

            </tbody>
        </table>
    </section>
</body>
</html>
